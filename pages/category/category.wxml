<!--pages/category/category.wxml-->
<view class="container">
  <view class="main-box">
    <scroll-view scroll-y="true" class="side-tab">
      <view wx:for="{{category}}" wx:key="index" data-index="{{index}}" bindtap="switchTab" class="tab-item {{curTabIdx === index ? 'tab-item-selected' : ''}}">
        <text>{{item.name}}</text>
      </view>
    </scroll-view>
    <scroll-view scroll-y="true" class="cate-box">
      <view class="cate-title">
        <text>饮料</text>
      </view>
      <view class="goods-list">
        <view class="goods-item row" wx:for="{{goodsList}}" wx:key="id">
          <image class="goods-image" src="{{item.pic}}"></image>
          <view class="goods-info">
            <view class="goods-name">
              <text>{{item.name}}</text>
            </view>
            <view class="goods-desc">
              <text>{{item.desc}}</text>
            </view>
            <view class="goods-price">
              <view class="price-box">
                <text class="price-unit">￥</text>
                <text class="price-text">{{item.price}}</text>
              </view>
              <view class="quantity row">
                <block wx:if="{{item.num > 0}}">
                  <icon class="minus" data-index="{{index}}" bindtap="reduceNum"></icon>
                  <view class="number"><text>{{item.num}}</text></view>
                </block>  
                <icon class="plus" data-index="{{index}}" bindtap="increaseNum"></icon>
              </view>
            </view>
          </view>
        </view>
      </view>
    </scroll-view>
  </view>
  <view class="float-cart-box" bindtap="navigateToCart">
    <view class="badge" style="position:absolute;top:0;right:0;">{{cartCount}}</view>
    <icon class="cart-round cart-icon"></icon>
  </view>
</view>